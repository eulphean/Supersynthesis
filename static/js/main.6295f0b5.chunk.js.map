{"version":3,"sources":["svg/close.svg","components/CommonStyles.js","svg/about.svg","components/Popup.js","components/Navbar.js","stores/EditModeStore.js","stores/LightConfigStore.js","components/Light.js","components/LightManager.js","components/MeshManager.js","components/BpmManager.js","components/WaveCanvas.js","components/Websocket.js","components/BottomBar.js","components/App.js","index.js"],"names":["_defs","_g","color","bgBlack","fgWhite","fontSize","extraSmall","kindaSmall","verySmall","lessSmall","small","lessBig","big","veryBig","extraBig","huge","veryHuge","extraHuge","massive","veryMassive","extraMassive","enormous","veryEnormous","extraEnormous","insane","veryInsaane","extraInsane","gaia","veryGaia","extraGaia","padding","tiny","enourmous","veryInsane","fontFamily","_excluded","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref","svgRef","title","props","createElement","viewBox","ref","id","className","width","height","x1","y1","x2","y2","ForwardRef","forwardRef","PopupState","customFadeIn","Radium","keyframes","from","opacity","to","customFadeOut","styles","overlay","position","top","bottom","left","right","background","zIndex","fadeIn","animationName","animationDuration","animationFillMode","animationTimingFunction","fadeOut","fadeOutUp","fadeOutDown","fadeInDown","fadeInUp","showOverlay","hideOverlay","showContent","hideContent","contentContainer","display","alignItems","justifyContent","content","borderRadius","overflow","maxWidth","maxHeight","stretchContainer","flexDirection","paddingLeft","paddingRight","borderStyle","borderWidth","borderColor","marginTop","marginBottom","textAlign","letterSpacing","lineHeight","body","mediaQueryOnText","iconContainer","alignSelf","marginRight","fill","icon","footerContainer","footer","copyright","link","backgroundColor","Popup","state","isVisible","popupState","React","createRef","overlayStyle","contentContainerStyle","getAboutContent","onClick","handleOnTouch","bind","onTouchStart","style","onAnimationEnd","contentAnimationEnd","setState","hidePopup","getFooter","iconButton","getIconButton","bodyStyle","description","rel","href","current","scrollTop","event","stopPropagation","Component","transform","d","fillRule","stroke","strokeWidth","animation","rotate","container","fbWhite","simpleRotation","Navbar","popupRef","aboutStyle","heightStyle","getHeightStyle","block","handleAbout","getHeight","deviceHeight","window","innerHeight","deviceWidth","innerWidth","c","orientation","ORIENTATION","PORTRAIT","LANDSCAPE","console","log","showPopup","isEditMode","isUserInteracting","subscribers","listener","push","val","isEditing","forEach","s","LIGHT_TYPE","LIGHT_STATE","GROW_STATE","infoSubscribers","bpmSubscriber","configIndex","bpm","localBpm","lightConfig","drawConfig","maxLightHeight","prepareDefaultLightConfig","infoListeners","filter","stateObject","lightType","lightState","growState","activeState","dbConfig","filterConfig","json","Date","JSON","stringify","payload","config","lightData","updateLightConfig","idx","data","stateObj","Light","xPos","yPos","lightWidth","p5","pos","createVector","newX","getNewPos","topPos","bottomPos","lightColor","lightBgColor","lightPointColor","curIdx","updateHeight","growIntervalId","setInterval","randomizeGrowState","noStroke","EditModeStore","handleGrowState","rect","canDraw","calcGrowState","getGrowState","r","int","random","LightConfigStore","setGrowState","curGrowthActive","curGrowState","curHeight","setHeightState","mapPos","map","circle","getHeightState","getDrawState","getLightState","curLightState","setLightState","setDrawState","onHeight","LightManager","lights","prepareLights","setMaxHeight","lightIncrement","l","meshEllipsePos","boundaryWidth","updateLightGrowConfig","draw","strokeWeight","line","light","dist","updateGrowState","MeshManager","ellipsePos","mouseY","mouseX","containEllipse","drawLine","drawEllipse","ellipse","startPoint","endPoint","weight","bpmManager","curBpm","curTime","shouldAdd","sum","isOn","elapsedTime","now","v","sin","mapped","setLocalBpm","Math","floor","sketch","lightManager","meshManager","setup","select","createCanvas","BpmManager","update","mousePressed","setUserInteracting","setEditMode","mouseReleased","windowResized","setTimeout","resizeCanvas","margin","WaveCanvas","containerRef","sketchRef","myP5","containerStyle","siteURL","herokuURL","socket","io","reconnection","reconnectionDelay","reconnectionAttempts","Infinity","once","subscribe","on","logTime","setPayloadFromDatabase","setLightTimerData","getPayloadForDatabase","emit","info","cursor","button","BottomBar","originalBpm","originalIndex","subscribeInfo","onInfoUpdate","subscribeBpmUpdates","onBpmUpdated","onEditModeUpdates","indices","getEditModeElements","getElements","onBack","onSend","onEdit","newBpm","getConfigIndex","oBpm","getBpm","Websocket","commitLightConfigData","App","addEventListener","handleResize","evaluateOrientation","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.6295f0b5.chunk.js","sourcesContent":["var _defs, _g;\n\nvar _excluded = [\"svgRef\", \"title\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar SvgClose = function SvgClose(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 48.51 48.51\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"style\", null, \".rect{fill:inherit;}.cls-2{fill:none;stroke:#b3b3b3;stroke-miterlimit:10;stroke-width:4px;}\"))), _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Layer_2\",\n    \"data-name\": \"Layer 2\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Layer_1-2\",\n    \"data-name\": \"Layer 1\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    className: \"rect\",\n    width: 48.51,\n    height: 48.51\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    className: \"cls-2\",\n    x1: 9.63,\n    y1: 9.64,\n    x2: 38.88,\n    y2: 38.89\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    className: \"cls-2\",\n    x1: 9.63,\n    y1: 38.89,\n    x2: 38.88,\n    y2: 9.64\n  })))));\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgClose, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/close.787123c6.svg\";\nexport { ForwardRef as ReactComponent };","const color = {\r\n    bgBlack: 'black',\r\n    fgWhite: 'white'\r\n};\r\n\r\nconst fontSize = {\r\n    extraSmall: '8px',\r\n    kindaSmall: '10px',\r\n    verySmall: '12px',\r\n    lessSmall: '14px',\r\n    small: '16px',\r\n    lessBig: '18px',\r\n    big: '20px',\r\n    veryBig: '24px',\r\n    extraBig: '28px',\r\n    huge: '32px',\r\n    veryHuge: '36px',\r\n    extraHuge: '40px',\r\n    massive: '44px',\r\n    veryMassive: '48px',\r\n    extraMassive: '52px',\r\n    enormous: '56px',\r\n    veryEnormous: '60px',\r\n    extraEnormous: '64px',\r\n    insane: '68px',\r\n    veryInsaane: '72px',\r\n    extraInsane: '76px',\r\n    gaia: '80px',\r\n    veryGaia: '84px',\r\n    extraGaia: '88px'\r\n};\r\n\r\nconst padding = {\r\n    tiny: '2px',\r\n    // Increments of 4\r\n    extraSmall: '4px',\r\n    kindaSmall: '6px',\r\n    verySmall: '8px',\r\n    small: '12px',\r\n    lessBig: '16px',\r\n    // Incremenets of 8\r\n    big : '20px',\r\n    veryBig : '28px',\r\n    extraBig : '36px',\r\n    // Increments of 12\r\n    huge: '52px',\r\n    veryHuge: '64px',\r\n    extraHuge: '76px',\r\n    // Incremenets of 16\r\n    massive: '92px',\r\n    veryMassive: '108px',\r\n    extraMassive: '124px',\r\n    // Increment of 20\r\n    enourmous: '100px',\r\n    veryEnormous: '120px',\r\n    extraEnormous: '140px',\r\n    // Increment of 40\r\n    insane: '160px',\r\n    veryInsane: '200px',\r\n    extraInsane: '240px'\r\n\r\n};\r\n\r\nconst fontFamily = {\r\n    heatwave: 'heatwaveregular',\r\n    airwaves: 'airwavesregular',\r\n    josefin: 'josefin_sanssemibold'\r\n};\r\n\r\nexport { color, fontSize, fontFamily, padding };","var _g;\n\nvar _excluded = [\"svgRef\", \"title\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar SvgAbout = function SvgAbout(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"28px\",\n    height: \"28px\",\n    viewBox: \"0 0 28 28\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Group-Copy\",\n    transform: \"translate(0.5 0.5)\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Group\",\n    transform: \"translate(0 0.0012207031)\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0 0L26.8571 0L26.8571 26.5126L0 26.5126L0 0Z\",\n    id: \"Rectangle\",\n    fill: \"#FFFFFF\",\n    fillRule: \"evenodd\",\n    stroke: \"#000000\",\n    strokeWidth: 1\n  })), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M4.68323 11.5706L8.53964 11.5706L8.53964 15.4269L4.68323 15.4269L4.68323 11.5706Z\",\n    id: \"Rectangle-49-Copy\",\n    fill: \"#000000\",\n    fillRule: \"evenodd\",\n    stroke: \"none\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M13.0839 0L26.8568 0L26.8568 26.5126L13.0839 26.5126L13.0839 0Z\",\n    id: \"Rectangle-2\",\n    fill: \"#000000\",\n    fillRule: \"evenodd\",\n    stroke: \"none\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M18.1803 11.5703L22.0367 11.5703L22.0367 15.4267L18.1803 15.4267L18.1803 11.5703Z\",\n    id: \"Rectangle-49\",\n    fill: \"#FFFFFF\",\n    fillRule: \"evenodd\",\n    stroke: \"none\"\n  }))));\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgAbout, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/about.ea00a3b0.svg\";\nexport { ForwardRef as ReactComponent };","/*\r\n  Name: Popup.js\r\n  Author: Amay Kataria\r\n  Date: 02/21/2022\r\n  Description: Popup component that is shown to display the about information. \r\n*/\r\n\r\nimport React from 'react'\r\nimport Radium from 'radium'\r\nimport { color, padding, fontFamily, fontSize } from './CommonStyles.js'\r\nimport { ReactComponent as Exit } from '../svg/close.svg'\r\nimport { fadeOutUp, fadeOutDown, fadeInDown, fadeInUp } from 'react-animations'\r\n\r\n// Maintain the current popup state (to track animations)\r\nvar PopupState = {\r\n    Open: 0,\r\n    Close: 1,\r\n    None: 2\r\n}; \r\n\r\n// Custom Fade in animation. \r\nconst customFadeIn = Radium.keyframes({\r\n    from: {\r\n        opacity: '0'\r\n    },\r\n    to: {\r\n        opacity: '0.5'\r\n    }\r\n}, 'fadesIn'); \r\n\r\nconst customFadeOut = Radium.keyframes({\r\n    from: {\r\n        opacity: '0.5'\r\n    },\r\n    to: {\r\n        opacity: '0'\r\n    }\r\n}, 'fadesOut'); \r\n\r\nconst fadeInDuration = '0.5s'; \r\nconst slideInDuration = '2.0s'; \r\nconst fadeOutDuration = '1.5s';\r\n\r\nconst aboutTheWork = 'Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.';\r\nconst styles={\r\n    overlay: {\r\n        position: 'fixed',\r\n        top: '0px',\r\n        bottom: '0px',\r\n        left: '0px',\r\n        right: '0px',\r\n        background: color.bgBlack,\r\n        zIndex: '999'\r\n    },\r\n\r\n    fadeIn: {\r\n        animationName: customFadeIn,\r\n        animationDuration: fadeInDuration,\r\n        animationFillMode: 'forwards',\r\n        animationTimingFunction:'ease-in'\r\n    },\r\n    \r\n    fadeOut: {\r\n        animationName: customFadeOut,\r\n        animationDuration: fadeOutDuration,\r\n        animationFillMode: 'forwards',\r\n        animationTimingFunction: 'ease-out'\r\n    },\r\n\r\n    fadeOutUp: {\r\n        animationName: Radium.keyframes(fadeOutUp, 'fadeOutUp'),\r\n        animationDuration: fadeOutDuration,\r\n        animationFillMode: 'forwards',\r\n        animationTimingFunction: 'ease-out'\r\n    },\r\n\r\n    fadeOutDown: {\r\n        animationName: Radium.keyframes(fadeOutDown, 'fadeOutDown'),\r\n        animationDuration: fadeOutDuration,\r\n        animationFillMode: 'forwards',\r\n        animationTimingFunction: 'ease-out'\r\n    },\r\n\r\n    fadeInDown: {\r\n        animationName: Radium.keyframes(fadeInDown, 'fadeInDown'),\r\n        animationDuration: slideInDuration,\r\n        animationFillMode: 'forwards',\r\n        animationTimingFunction: 'ease-in'\r\n    },\r\n\r\n    fadeInUp: {\r\n        animationName: Radium.keyframes(fadeInUp, 'fadeInUp'),\r\n        animationDuration: slideInDuration,\r\n        animationFillMode: 'forwards',\r\n        animationTimingFunction: 'ease-in'\r\n    },\r\n\r\n    showOverlay: {\r\n        zIndex: '998',\r\n        opacity: '1'\r\n    },\r\n\r\n    hideOverlay: {\r\n        zIndex: '-998',\r\n        opacity: '0'\r\n    },\r\n\r\n    showContent: {\r\n        zIndex: '999',\r\n        opacity: '1'\r\n    },\r\n\r\n    hideContent: {\r\n        zIndex: '-999',\r\n        opacity: '0'\r\n    },\r\n\r\n    contentContainer: {\r\n        position: 'fixed',\r\n        zIndex: '-999',\r\n        left: '0px',\r\n        top:'0px',\r\n        bottom: '0px',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        height: '100%',\r\n        width: '100%',\r\n    },\r\n\r\n    content: {\r\n        borderRadius: fontSize.tiny,\r\n        overflow: 'auto',\r\n        maxWidth: 'calc(100% - 50px)', // Bind this to media query\r\n        maxHeight: 'calc(100% - 100px)', // Bind this to media query\r\n        \r\n        '@media (min-width: 600px)': {      \r\n            maxWidth: 'calc(100% - 100px)', // Bind this to media query\r\n            maxHeight: 'calc(100% - 100px)', // Bind this to media query\r\n        },\r\n\r\n        '@media (min-width: 750px)': {  \r\n            maxWidth: 'calc(100% - 150px)', // Bind this to media query\r\n            maxHeight: 'calc(100% - 100px)', // Bind this to media query\r\n        },\r\n\r\n        '@media (min-width: 1200px)' : {\r\n            maxWidth: 'calc(100% - 300px)', // Bind this to media query\r\n            maxHeight: 'calc(100% - 100px)', // Bind this to media query\r\n        }\r\n    },\r\n\r\n    stretchContainer: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n        background: color.bgBlack,\r\n        color: color.fgWhite,\r\n        paddingLeft: padding.small, // Bind this to media query\r\n        paddingRight: padding.small, // Bind this to media query,\r\n\r\n        '@media (min-width: 600px)': {      \r\n            paddingLeft: padding.extraHuge, \r\n            paddingRight: padding.extraHuge\r\n        },\r\n\r\n        '@media (min-width: 900px)': {  \r\n            paddingLeft: padding.veryMassive, \r\n            paddingRight: padding.veryMassive\r\n        },\r\n\r\n        '@media (min-width: 1200px)' : {\r\n            paddingLeft: padding.extraMassive, \r\n            paddingRight: padding.extraMassive\r\n        },\r\n        opacity: '1.0',\r\n        borderStyle: 'solid',\r\n        borderWidth: '2px',\r\n        borderColor: color.fgWhite\r\n    },\r\n\r\n    title: {\r\n        marginTop: padding.lessSmall,\r\n        marginBottom: padding.small,\r\n        textAlign: 'center',\r\n        fontFamily: fontFamily.heatwave,\r\n        fontSize: fontSize.extraBig,\r\n        letterSpacing: '2.5px',\r\n        lineHeight: '1.8',\r\n       \r\n        '@media (min-width: 750px)': {  \r\n            fontSize: fontSize.extraBig\r\n        },\r\n\r\n        '@media (min-width: 900px)': {  \r\n            fontSize: fontSize.huge\r\n        },\r\n\r\n        '@media (min-width: 1200px)' : {\r\n            fontSize: fontSize.veryHuge\r\n        }\r\n    },\r\n\r\n    body: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        justifyContent: 'center',\r\n        fontFamily: fontFamily.josefin,\r\n        letterSpacing: '1.5px',\r\n        fontSize: fontSize.small,\r\n        color: color.fgWhite\r\n    },\r\n\r\n    // Applied on stuff\r\n    mediaQueryOnText: {\r\n        '@media (min-width: 750px)': {  \r\n            fontSize: fontSize.big\r\n        },\r\n\r\n        '@media (min-width: 900px)': {  \r\n            fontSize: fontSize.veryBig\r\n        }\r\n    },\r\n\r\n    iconContainer: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        alignSelf: 'flex-end',\r\n        marginRight: '-' + fontSize.verySmall,\r\n        height: fontSize.big,\r\n        width: fontSize.big,\r\n        fill: color.fgWhite,\r\n\r\n        '@media (min-width: 600px)': {  \r\n            marginRight: '-' + fontSize.extraInsane,\r\n            height: fontSize.veryBig, \r\n            width: fontSize.veryBig\r\n        },\r\n\r\n        '@media (min-width: 900px)': {  \r\n            height: fontSize.extraBig, \r\n            width: fontSize.extraBig,\r\n            marginRight: '-108px'\r\n        },\r\n\r\n        '@media (min-width: 1200px)': {  \r\n            marginRight: '-124px'\r\n        }\r\n    },\r\n\r\n    icon: { \r\n        width: '100%',\r\n        height: '100%'\r\n    },\r\n\r\n    footerContainer: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n        marginTop: padding.veryBig,\r\n        fontFamily: fontFamily.josefin,\r\n        letterSpacing: '1.5px',\r\n    },\r\n\r\n    footer: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        marginTop: padding.verySmall,\r\n        fontSize: fontSize.lessSmall,\r\n        '@media (min-width: 750px)': {  \r\n            fontSize: fontSize.small,\r\n        }\r\n    },\r\n\r\n    copyright: {\r\n        marginTop: padding.veryBig,\r\n        fontSize: fontSize.verySmall,\r\n        marginBottom: padding.small\r\n    },\r\n\r\n    link: {\r\n        backgroundColor: color.fgWhite,\r\n        color: color.bgBlack,\r\n        padding: padding.tiny\r\n    }\r\n}\r\n\r\nclass Popup extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state={\r\n            isVisible: false,\r\n            popupState: PopupState.None,\r\n        };\r\n\r\n        this.content = React.createRef(); \r\n    }\r\n\r\n    render() {\r\n        // Handle overlay styles. \r\n        let overlayStyle; \r\n        if (this.state.isVisible) {\r\n            overlayStyle = [styles.overlay, styles.showOverlay]; \r\n            if (this.state.popupState === PopupState.Open) {\r\n                overlayStyle = [overlayStyle, styles.fadeIn]; \r\n            } else if (this.state.popupState === PopupState.Close) {\r\n                overlayStyle = [overlayStyle, styles.fadeOut]; \r\n            } else {\r\n                // Do nothing. \r\n            }\r\n        } else {\r\n            overlayStyle = [styles.overlay, styles.hideOverlay]; \r\n        }\r\n\r\n        // Handle different types of Popups. \r\n        let content, contentContainerStyle; \r\n        content = this.getAboutContent();\r\n        if (this.state.isVisible) {\r\n            contentContainerStyle = [styles.contentContainer, styles.showContent]; \r\n            if (this.state.popupState === PopupState.Open) {\r\n                contentContainerStyle = [contentContainerStyle, styles.fadeInDown]; \r\n            } else if (this.state.popupState === PopupState.Close) {\r\n                contentContainerStyle = [contentContainerStyle, styles.fadeOutUp];\r\n            } else {\r\n                // Do nothing when it's in None state. \r\n            }\r\n        } else {\r\n            contentContainerStyle = [styles.contentContainer, styles.hideContent]; \r\n        }\r\n\r\n        return (\r\n            <div onClick={this.handleOnTouch.bind(this)} onTouchStart={this.handleOnTouch.bind(this)} >\r\n                <div style={overlayStyle}></div>\r\n                <div onAnimationEnd={this.contentAnimationEnd.bind(this)} style={contentContainerStyle}>\r\n                    {content}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    contentAnimationEnd() {\r\n        if (this.state.isVisible) {\r\n            // Hide everything when content animation ends. \r\n            if (this.state.popupState === PopupState.Close) {\r\n                this.setState({\r\n                    isVisible: false,\r\n                    popupState: PopupState.None\r\n                }); \r\n            }\r\n        }\r\n    }\r\n\r\n    getIconButton() {\r\n        return(\r\n            <div onClick={this.hidePopup.bind(this)} style={styles.iconContainer}>\r\n                <Exit style={styles.icon} />\r\n            </div>\r\n        ); \r\n    }\r\n\r\n    getAboutContent() {\r\n        let footer = this.getFooter(); \r\n        let iconButton = this.getIconButton();  \r\n        let bodyStyle = [styles.body, styles.mediaQueryOnText];\r\n        return (\r\n            <div ref={this.content} style={styles.content}>\r\n                <div style={styles.stretchContainer}>\r\n                    { iconButton }\r\n                    <div style={bodyStyle}>\r\n                        <div style={styles.title}>supersynthesis</div>\r\n                        <div style={styles.description}>{aboutTheWork}</div>                        \r\n                    </div>\r\n                    { footer }\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    getFooter() {\r\n        const tim = 'https://www.vaexhibitions.arts.columbia.edu/class-of-2021-first-years/timothy-kwasny';\r\n        const amay = 'https://amaykataria.com';\r\n        return (\r\n            <div style={styles.footerContainer}>\r\n                <div style={styles.footer}>\r\n                    <span>Created by&nbsp;</span>\r\n                    <a \r\n                        style={styles.link} \r\n                        target='_blank' \r\n                        rel=\"noopener noreferrer\" \r\n                        href={amay}>\r\n                        Amay Kataria\r\n                    </a>\r\n                </div>\r\n                <div style={styles.footer}>\r\n                    <span>Sound by&nbsp;</span>\r\n                    <a \r\n                        style={styles.link} \r\n                        target='_blank' \r\n                        rel=\"noopener noreferrer\" \r\n                        href={tim}>\r\n                        Timothy Kwasny\r\n                    </a>\r\n                </div>\r\n                <div style={styles.copyright}>© Amay Kataria 2022</div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    showPopup() {\r\n        // Adjust the scroll top.\r\n        this.content.current.scrollTop = 0; \r\n\r\n        this.setState({\r\n            isVisible: true,\r\n            popupState: PopupState.Open,\r\n        }); \r\n    }\r\n\r\n    hidePopup(event) {\r\n        event.stopPropagation(); \r\n\r\n        this.setState({\r\n            popupState: PopupState.Close\r\n        });\r\n    }\r\n\r\n    handleOnTouch(event) {\r\n        // Don't let this propogate to the main screen\r\n        // where touch events mean something. \r\n        event.stopPropagation();\r\n    }\r\n }\r\n\r\nexport default Radium(Popup);\r\n\r\n","/*\r\n  Name: BottomBar.js\r\n  Author: Amay Kataria\r\n  Date: 02/19/2022\r\n  Description: React component for the top navigation bar on the webpage.\r\n*/\r\nimport React from 'react'\r\nimport Radium from 'radium'\r\nimport Popup from './Popup'\r\nimport { ORIENTATION } from './App'\r\nimport { ReactComponent as About } from '../svg/about.svg'\r\nimport {color, fontFamily, fontSize, padding} from './CommonStyles'\r\n\r\nconst animation = {\r\n  rotate: Radium.keyframes({\r\n    '0%': {\r\n      transform: 'rotate(0deg)'\r\n    },\r\n    '50%': {\r\n      transform: 'rotate(180deg)',\r\n    },\r\n    '100%': {\r\n      transform: 'rotate(360deg)',\r\n    }\r\n  }),\r\n}\r\n\r\nconst styles = {\r\n    container: {\r\n        position: 'relative',\r\n        display: 'flex',\r\n        flexDirection: 'row',\r\n        justifyContent: 'space-between',\r\n        alignItems: 'center',\r\n        paddingLeft: padding.small,\r\n        paddingRight: padding.small,\r\n        zIndex: 1\r\n    },\r\n\r\n    title: {\r\n        backgroundColor: color.bgBlack,\r\n        color: color.fbWhite,\r\n        padding: padding.small,\r\n        fontFamily: fontFamily.heatwave,\r\n        fontSize: fontSize.lessBig,\r\n        letterSpacing: '2px'\r\n    },\r\n    \r\n    iconContainer: {\r\n      display: 'flex',\r\n      justifyContent: 'center',\r\n      width: fontSize.huge,\r\n      height: fontSize.huge,\r\n      marginTop: padding.kindaSmall,\r\n    },\r\n\r\n    simpleRotation: {\r\n      animation: 'x 30s ease-in-out infinite',\r\n      animationName: animation.rotate\r\n    },\r\n  \r\n    icon: {\r\n        width: '100%',\r\n        height: '100%'\r\n    }\r\n};\r\n\r\nclass Navbar extends React.Component {\r\n  constructor(props) {\r\n    super(props); \r\n    this.state={\r\n    }\r\n\r\n    this.popupRef = React.createRef(); \r\n  }\r\n\r\n  render() {\r\n    let aboutStyle = [styles.iconContainer, styles.simpleRotation];\r\n    let heightStyle = this.getHeightStyle(); \r\n    return (\r\n      <div style={styles.block}>\r\n        <Popup ref={this.popupRef}/>\r\n        <div style={[styles.container, heightStyle]}>\r\n          <div style={styles.title}>supersynthesis</div>\r\n          <div style={aboutStyle} onClick={this.handleAbout.bind(this)}>\r\n            <About style={styles.icon} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  getHeightStyle() {\r\n    let height = this.getHeight();\r\n    let heightStyle = {\r\n      height: height + 'px'\r\n    };\r\n    return heightStyle; \r\n  }\r\n\r\n  getHeight() {\r\n    let deviceHeight = window.innerHeight;\r\n    let deviceWidth = window.innerWidth; \r\n    let c = 0; \r\n    if (this.props.orientation === ORIENTATION.PORTRAIT) {\r\n      if (deviceHeight < 900) {\r\n        c = 0.1\r\n      }\r\n\r\n      if (deviceHeight > 900 && deviceHeight < 1000) {\r\n        c = 0.075\r\n      }\r\n\r\n      if (deviceHeight > 1000) {\r\n        c = 0.06\r\n      }\r\n    }\r\n\r\n    if (this.props.orientation === ORIENTATION.LANDSCAPE) {\r\n      if (deviceWidth < 1000) {\r\n        c = 0.15; \r\n      }      \r\n\r\n      if (deviceWidth > 1000) {\r\n        c = 0.09\r\n      }\r\n    }\r\n\r\n    return deviceHeight * c; \r\n  }\r\n\r\n  handleAbout() {\r\n    console.log('Create a popup.');\r\n    this.popupRef.current.showPopup();\r\n  }\r\n}\r\n\r\nexport default Radium(Navbar);\r\n","// Name: EditModeStore.js\r\n// Author: Amay Kataria. \r\n// Date: 02/24/2022\r\n// Description: This data store keeps track of when the user is interacting with the canvas and when\r\n// are we ready to remove that interactive pattern. \r\n\r\nclass EditModeStore {\r\n    constructor() {\r\n        this.isEditMode = false; \r\n        this.isUserInteracting = false; \r\n        this.subscribers = []; \r\n    }\r\n\r\n    subscribe(listener) {\r\n        this.subscribers.push(listener); \r\n    }\r\n\r\n    setEditMode(val) {\r\n        if (this.isEditing !== val) {\r\n            this.isEditMode = val;\r\n            this.subscribers.forEach(s => s()); \r\n        }\r\n    }\r\n\r\n    setUserInteracting(val) {\r\n        if (this.isUserInteracting !== val) {\r\n            this.isUserInteracting = val; \r\n            this.subscribers.forEach(s => s());\r\n        }\r\n    }\r\n}\r\n\r\nexport default new EditModeStore();","// Name: DatabaseParamStore.js\r\n// Author: Amay Kataria. \r\n// Date: 02/19/2022\r\n// Description: This data store is responsible to hold bpm, all 48 lights and number of entries.\r\n// This data will be stored in the database. Components that need this data will subscribe to this store.  \r\n\r\nexport const LIGHT_TYPE = {\r\n    TOP: 'TOP',\r\n    BOTTOM: 'BOTTOM'\r\n};\r\n\r\nexport const LIGHT_STATE = {\r\n    ON: 1,\r\n    OFF: 0\r\n};\r\n\r\nexport const GROW_STATE = {\r\n    NONE: 0,\r\n    GROW: 1,\r\n    SHRINK: 2\r\n}\r\n\r\nconst NUM_LIGHTS = 24;\r\n\r\nclass LightConfigStore {\r\n    constructor() {\r\n        // Listeners for this database. \r\n        this.infoSubscribers = [];\r\n        this.bpmSubscriber = '';\r\n\r\n        // Default values. \r\n        this.configIndex = 0; \r\n        this.bpm = 150;\r\n        this.localBpm = 150; \r\n        // Maintains the config for 24 lights (top & bottom) - used for interactive state. \r\n        this.lightConfig = [];\r\n        // Maintains the config for 24 lights (NO top or bottom) - used for non-interactive state. \r\n        this.drawConfig = []; \r\n\r\n        // Helper value to create default heights. \r\n        this.maxLightHeight = 0;\r\n\r\n        // Default light config for 24 lights. \r\n        this.prepareDefaultLightConfig();\r\n    }\r\n\r\n    subscribeInfo(listener) {\r\n        this.infoSubscribers.push(listener);\r\n        const removeListener = () => {\r\n            this.infoListeners = this.infoSubscribers.filter((s) => listener !== s);\r\n        };\r\n\r\n        return removeListener;\r\n    }\r\n    \r\n    subscribeBpmUpdates(listener) {\r\n        this.bpmSubscriber = listener;\r\n    }\r\n\r\n    setMaxHeight(height) {\r\n        this.maxLightHeight = height; \r\n    }\r\n\r\n    // Default config for 24 lights. \r\n    prepareDefaultLightConfig() {\r\n        console.log('Preparing default config.');\r\n        for (let i = 0; i < NUM_LIGHTS; i++) {\r\n            // All lights are off by default. \r\n            this.drawConfig.push(false); \r\n\r\n            // Create a state object for lights ()\r\n            let stateObject = {\r\n                'light': {\r\n                    'TOP': 1, \r\n                    'BOTTOM': 1\r\n                },\r\n                'grow': {\r\n                    'TOP': {\r\n                        'state': GROW_STATE.NONE,\r\n                        'active': false\r\n                    },\r\n                    'BOTTOM': {\r\n                        'state': GROW_STATE.NONE,\r\n                        'active': false\r\n                    }\r\n                },\r\n                'height': {\r\n                    'TOP': 0,\r\n                    'BOTTOM': 0\r\n                }\r\n            }\r\n            this.lightConfig.push(stateObject); \r\n        }\r\n    }\r\n\r\n    getFullConfig(i) {\r\n        return this.lightConfig[i]; \r\n    }\r\n\r\n    // GET/SET light's state. \r\n    getLightState(i) {\r\n        return this.lightConfig[i]['light'];\r\n    }\r\n    setLightState(i, lightType, lightState) {\r\n        this.lightConfig[i]['light'][lightType] = lightState; \r\n    }\r\n\r\n    // GET/SET light's grow state. \r\n    getGrowState(i) {\r\n        return this.lightConfig[i]['grow'];\r\n    }\r\n    setGrowState(i, lightType, growState, activeState) {\r\n        this.lightConfig[i]['grow'][lightType]['state'] = growState;\r\n        this.lightConfig[i]['grow'][lightType]['active'] = activeState;\r\n    }\r\n\r\n    // GET/SET light's draw state. \r\n    getDrawState(i) {\r\n        return this.drawConfig[i];\r\n    }\r\n    setDrawState(i, state) {\r\n        this.drawConfig[i] = state;\r\n    }\r\n\r\n    // GET/SET light's heights. \r\n    getHeightState(i) {\r\n        return this.lightConfig[i]['height'];\r\n    }\r\n    setHeightState(i, lightType, height) {\r\n        this.lightConfig[i]['height'][lightType] = height; \r\n    }\r\n\r\n    getBpm() {\r\n        return this.bpm;\r\n    }\r\n    setLocalBpm(localBpm) {\r\n        if (this.localBpm !== localBpm) {\r\n            this.localBpm = localBpm;\r\n            this.bpmSubscriber();\r\n        }\r\n    }\r\n    getConfigIndex() {\r\n        return this.configIndex;\r\n    }\r\n\r\n    // Increment the config index because this will be a new entry.\r\n    getPayloadForDatabase() {\r\n        //Bad assumption that this call will be successful. \r\n        this.configIndex += 1; \r\n        let dbConfig = this.filterConfig();\r\n        this.json = {}\r\n        this.json['bpm'] = this.localBpm; // Get the current bpm that has been set by the user. \r\n        this.json['lights'] = dbConfig;\r\n        this.json['time'] = Date();\r\n\r\n        let payload = {\r\n            'index' : this.configIndex, \r\n            'config': JSON.stringify(this.json)\r\n        }\r\n\r\n        return payload;\r\n    }\r\n\r\n    setPayloadFromDatabase(payload) {\r\n        console.log('Overwriting current config.');\r\n\r\n        // Get current index. \r\n        this.configIndex = payload['index'];\r\n\r\n        // Config items. \r\n        let config = payload['config'];\r\n        this.bpm = config['bpm'];\r\n\r\n\r\n        // Trigger info subscribers. \r\n        for (let i = 0; i < this.infoSubscribers.length; i++) {\r\n            this.infoSubscribers[i]();\r\n        }\r\n        \r\n        // Light data is an array. Update the current light\r\n        // config with this incoming data. \r\n        let lightData = config['lights'];\r\n        this.updateLightConfig(lightData);\r\n    }\r\n\r\n    setLightTimerData(payload) {\r\n        let lightState = payload['state'];\r\n        // Turn off all the lights. \r\n        if (lightState === 'NONE') {\r\n            for (let i = 0; i < this.drawConfig.length; i++) {\r\n                this.drawConfig[i] = false;\r\n            }\r\n        } else {\r\n            for (let i = 0; i < lightState.length; i++) {\r\n                let s = lightState[i];\r\n                let idx = s['idx']; let val = s['val'] === LIGHT_STATE.ON;\r\n                this.drawConfig[idx] = val; \r\n            }\r\n        }\r\n    }\r\n\r\n    // Extract the config we need for the database. \r\n    filterConfig() {\r\n        let dbConfig = []; \r\n        this.lightConfig.forEach(c => {\r\n            let d = c['light']\r\n            dbConfig.push(d);\r\n        });\r\n        return dbConfig; \r\n    }\r\n\r\n    updateLightConfig(lightData) {\r\n        // Empty the current light config. \r\n        this.lightConfig = []; \r\n        \r\n        // Create a new config. \r\n        for (let i = 0; i < lightData.length; i++) {\r\n            let data = lightData[i];\r\n            let stateObj = {\r\n                'light': {\r\n                    'TOP': data[LIGHT_TYPE.TOP], \r\n                    'BOTTOM': data[LIGHT_TYPE.BOTTOM]\r\n                },\r\n                'grow': {\r\n                    'TOP': {\r\n                        'state': GROW_STATE.NONE,\r\n                        'active': false\r\n                    },\r\n                    'BOTTOM': {\r\n                        'state': GROW_STATE.NONE,\r\n                        'active': false\r\n                    }\r\n                },\r\n                // Create the height state from the incoming light state. \r\n                'height': {\r\n                    'TOP': data[LIGHT_TYPE.TOP] === LIGHT_STATE.ON ? this.maxLightHeight : 0,\r\n                    'BOTTOM': data[LIGHT_TYPE.BOTTOM] === LIGHT_STATE.ON ? this.maxLightHeight : 0\r\n                }\r\n            }\r\n            this.lightConfig.push(stateObj);\r\n        }\r\n    }\r\n}\r\n\r\nexport default new LightConfigStore();","/*\r\n  Name: Light.js\r\n  Author: Amay Kataria\r\n  Date: 02/19/2022\r\n  Description: A class representing each light that is painted on the canvas. \r\n*/\r\nimport LightConfigStore, { LIGHT_TYPE, LIGHT_STATE, GROW_STATE } from \"../stores/LightConfigStore\";\r\nimport EditModeStore from \"../stores/EditModeStore\";\r\n\r\nconst GROW_FACTOR = 2.5;\r\n\r\nexport default class Light {\r\n    constructor(s, i, xPos, yPos, lightWidth) {\r\n        // Sketch object. \r\n        this.p5 = s; \r\n\r\n        // Light's width. \r\n        this.lightWidth = lightWidth;\r\n\r\n        // Origin point at the center.\r\n        this.pos = this.p5.createVector(xPos, yPos);\r\n        \r\n        // Point at the top. \r\n        let newX = this.getNewPos() + this.lightWidth/2; // Keep this at the center of the light.\r\n        this.topPos = this.p5.createVector(newX, yPos - this.p5.height/2);\r\n        // Point at the bottom.\r\n        this.bottomPos = this.p5.createVector(newX, yPos + this.p5.height/2);        \r\n        \r\n        // Colors. \r\n        this.lightColor = this.p5.color('white');\r\n        this.lightBgColor = this.p5.color(255, 255, 255, 25);\r\n        this.lightPointColor = this.p5.color('green'); // Only debug.\r\n\r\n        // Store the current light config. \r\n        this.curIdx = i; \r\n        this.updateHeight(); \r\n\r\n        // Variable for the timer's interval id. \r\n        this.growIntervalId = ''; \r\n        setInterval(this.randomizeGrowState.bind(this), 3000); \r\n    }\r\n\r\n    draw() {\r\n        let newX = this.getNewPos();\r\n        this.p5.fill(this.lightColor);\r\n        this.p5.noStroke();\r\n        \r\n        let isEditMode = EditModeStore.isEditMode;\r\n        let isUserInteracting = EditModeStore.isUserInteracting; \r\n        if (isUserInteracting || isEditMode) {\r\n            this.handleGrowState(LIGHT_TYPE.TOP);\r\n            this.handleGrowState(LIGHT_TYPE.BOTTOM);\r\n\r\n            // Top lights\r\n            this.p5.fill(this.lightBgColor);\r\n            this.p5.rect(newX, this.pos['y'], this.lightWidth, -this.p5.height/2);\r\n\r\n            let height = this.getHeight(LIGHT_TYPE.TOP);\r\n            this.p5.fill(this.lightColor);\r\n            this.p5.rect(newX, this.pos['y'], this.lightWidth, -height);\r\n\r\n            // Bottom lights\r\n            this.p5.fill(this.lightBgColor);\r\n            this.p5.rect(newX, this.pos['y'], this.lightWidth, this.p5.height/2);\r\n\r\n            height = this.getHeight(LIGHT_TYPE.BOTTOM);\r\n            this.p5.fill(this.lightColor);\r\n            this.p5.rect(newX, this.pos['y'], this.lightWidth, height);  \r\n        } else {\r\n            this.p5.fill(this.lightBgColor);\r\n            this.p5.rect(newX, 0, this.lightWidth, this.p5.height);\r\n            // Draw solid light\r\n            if (this.canDraw()) {\r\n                this.p5.fill(this.lightColor);\r\n                this.p5.rect(newX, 0, this.lightWidth, this.p5.height);\r\n            }\r\n        }\r\n    }\r\n    \r\n    randomizeGrowState() {\r\n        let calcGrowState = (lightType) => {\r\n            let curGrowState = this.getGrowState(lightType); \r\n            if (curGrowState['active']) {                \r\n                // I'm currently growing or doing something. \r\n                // Pass\r\n            } else {\r\n                // Update my state. \r\n                let r = this.p5.int(this.p5.random(0, 2)); \r\n                r = r === 1 ? GROW_STATE.GROW : GROW_STATE.SHRINK;\r\n                LightConfigStore.setGrowState(this.curIdx, lightType, r, false);\r\n            }\r\n        }\r\n\r\n        // Set new grow states for top and bottom light for the current light. \r\n        calcGrowState(LIGHT_TYPE.TOP);\r\n        calcGrowState(LIGHT_TYPE.BOTTOM);           \r\n    }\r\n\r\n    // Grow & Shrink the height of the light.\r\n    handleGrowState(lightType) {\r\n        let curGrowthActive = this.getGrowState(lightType)['active'];\r\n        let curGrowState = this.getGrowState(lightType)['state'];\r\n        let curHeight = this.getHeight(lightType);\r\n\r\n        // Is the current light's grow active? \r\n        if (curGrowthActive) {\r\n            switch (curGrowState) {\r\n                case GROW_STATE.NONE: {\r\n                    // Pass don't do antyhing. \r\n                    break;\r\n                }\r\n    \r\n                case GROW_STATE.GROW: {\r\n                    if (curHeight < this.p5.height/2) {\r\n                        curHeight += GROW_FACTOR;\r\n                        LightConfigStore.setHeightState(this.curIdx, lightType, curHeight);\r\n                        this.mapPos(lightType, curHeight);\r\n                    } else {\r\n                        // Deactivate the current light. \r\n                        LightConfigStore.setGrowState(this.curIdx, lightType, GROW_STATE.NONE, false);\r\n                    }\r\n                    break;\r\n                }\r\n    \r\n                case GROW_STATE.SHRINK: {\r\n                    if (curHeight > 0) {\r\n                        curHeight -= GROW_FACTOR; \r\n                        LightConfigStore.setHeightState(this.curIdx, lightType, curHeight);\r\n                        this.mapPos(lightType, curHeight);\r\n                    } else {\r\n                        // Deactivate the current light. \r\n                        LightConfigStore.setGrowState(this.curIdx, lightType, GROW_STATE.NONE, false);\r\n                    }\r\n                    break;\r\n                }\r\n    \r\n                default: \r\n                    break;\r\n            }\r\n        }\r\n    }\r\n\r\n    mapPos(lightType, height) {\r\n        if (lightType === LIGHT_TYPE.TOP) {\r\n            this.topPos['y'] = this.p5.map(height, 0, this.p5.height/2, this.p5.height/2, 0);\r\n        } else {\r\n            this.bottomPos['y'] = this.p5.map(height, 0, this.p5.height/2, this.p5.height/2, this.p5.height);\r\n        }\r\n    }\r\n\r\n    drawLightPoint() {\r\n        let newX = this.getNewPos();\r\n        this.p5.fill(this.lightPointColor)\r\n        this.p5.circle(newX, this.pos['y'], 10);\r\n    }\r\n    \r\n    getNewPos() {\r\n        return this.pos['x'] + this.lightWidth/2; \r\n    }\r\n\r\n    getGrowState(lightType) {\r\n        return LightConfigStore.getGrowState(this.curIdx)[lightType];\r\n    }\r\n\r\n    getHeight(lightType) {\r\n        let heightState = LightConfigStore.getHeightState(this.curIdx);\r\n        return heightState[lightType];\r\n    }\r\n\r\n    canDraw() {\r\n        let drawState = LightConfigStore.getDrawState(this.curIdx);\r\n        return drawState; // It's true or false. \r\n    }\r\n\r\n    // Is this light on? \r\n    isOn(lightType) {\r\n        let lightState = LightConfigStore.getLightState(this.curIdx);\r\n        return lightState[lightType] === LIGHT_STATE.ON; \r\n    }\r\n\r\n    isGrowing(lightType) {\r\n        let v = LightConfigStore.getGrowState(this.curIdx)[lightType]['active'];\r\n        return v;\r\n    }\r\n\r\n    updateGrowState(lightType) {\r\n        let curLightState = LightConfigStore.getLightState(this.curIdx)[lightType];\r\n        let curGrowState = LightConfigStore.getGrowState(this.curIdx)[lightType]; \r\n\r\n        // Is the light on? \r\n        if (curLightState === LIGHT_STATE.ON) {\r\n            // Is this light currently growing or shrinking? \r\n            if (curGrowState['active']) {\r\n                // I'm doing something - let's not do anything. \r\n            } else {\r\n                // Is the state set to shrink? Because it can only shrink. \r\n                if (curGrowState['state'] === GROW_STATE.SHRINK) {\r\n                    LightConfigStore.setGrowState(this.curIdx, lightType, GROW_STATE.SHRINK, true);\r\n                    // This light will not be turned on anymore.  \r\n                    LightConfigStore.setLightState(this.curIdx, lightType, LIGHT_STATE.OFF);                \r\n                } else {\r\n                    // Pass, we can't grow a light that's already on. \r\n\r\n                }\r\n            }\r\n        }\r\n\r\n        if (curLightState === LIGHT_STATE.OFF) {\r\n            if (curGrowState['active']) {\r\n                // I'm doing something - let's not do anything. \r\n            } else {\r\n                if (curGrowState['state'] === GROW_STATE.GROW) {\r\n                    LightConfigStore.setGrowState(this.curIdx, lightType, GROW_STATE.GROW, true);\r\n                    // This light will not be turned on anymore.  \r\n                    LightConfigStore.setLightState(this.curIdx, lightType, LIGHT_STATE.ON);\r\n                } else {\r\n                    // Pass, we can't shrink a light that's already off. \r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    updateDrawState(lightType, state) {\r\n        LightConfigStore.setDrawState(this.curIdx, lightType, state); \r\n    }\r\n\r\n    // Set light heights based on the light configurations.\r\n    // Call this functions when new configs are received. \r\n    updateHeight() {\r\n        let lightState = LightConfigStore.getLightState(this.curIdx);         \r\n        let onHeight = this.p5.height/2;\r\n        let offHeight = 0;\r\n\r\n        // TOP light. \r\n        let lightType = LIGHT_TYPE.TOP; \r\n        if (lightState[lightType] === LIGHT_STATE.ON) {\r\n            LightConfigStore.setHeightState(this.curIdx, lightType, onHeight);\r\n        }\r\n\r\n        if (lightState[lightType] === LIGHT_STATE.OFF) {\r\n            LightConfigStore.setHeightState(this.curIdx, lightType, offHeight);\r\n        }\r\n\r\n        // BOTTOM light. \r\n        lightType = LIGHT_TYPE.BOTTOM; \r\n        if (lightState[lightType] === LIGHT_STATE.ON) {\r\n            LightConfigStore.setHeightState(this.curIdx, lightType, onHeight);\r\n        }\r\n\r\n        if (lightState[lightType] === LIGHT_STATE.OFF) {\r\n            LightConfigStore.setHeightState(this.curIdx, lightType, offHeight);\r\n        }\r\n    }\r\n}\r\n\r\n    // // Should this light be drawn? \r\n    // canDraw(lightType) {\r\n    //     let drawState = LightConfigStore.getDrawState(this.curIdx);\r\n    //     return drawState[lightType]; // It's true or false. \r\n    // }\r\n    // Fired when new light updates are received. \r\n    // updateLights() {\r\n    //     console.log('New lights received: Update the light heights.');\r\n    //     for (let i = 0; i < NUM_LIGHTS; i++) {\r\n    //         let l = this.lights[i]; \r\n    //         // let configState = LightConfigStore.getState(i);\r\n    //         // l.setHeight(configState);\r\n    //     }\r\n    // }\r\n\r\n\r\n                //  // Am I supposed to draw this top light? \r\n                //  if (this.canDraw(LIGHT_TYPE.TOP)) {\r\n                //     // let height = this.getHeight(LIGHT_TYPE.TOP);\r\n                //     this.p5.rect(newX, this.pos['y'], this.lightWidth, -this.p5.height/2);\r\n                // }\r\n    \r\n                // // Am I supposed to draw this bottom light?\r\n                // if (this.canDraw(LIGHT_TYPE.BOTTOM)) {\r\n                //     // let height = this.getHeight(LIGHT_TYPE.BOTTOM);\r\n                //     this.p5.rect(newX, this.pos['y'], this.lightWidth, this.p5.height/2);    \r\n                // }","/*\r\n  Name: LightManager.js\r\n  Author: Amay Kataria\r\n  Date: 02/19/2022\r\n  Description: A class responsible for handling all the lights. This class is the most critical class\r\n  in this project. \r\n*/\r\nimport Light from './Light'\r\nimport LightConfigStore, { LIGHT_TYPE  } from \"../stores/LightConfigStore\";\r\nimport EditModeStore from '../stores/EditModeStore';\r\n\r\nconst NUM_LIGHTS = 24\r\n\r\nexport default class LightManager {\r\n    constructor(s) {\r\n        this.p5 = s; \r\n        this.lights = [];\r\n    }\r\n    \r\n    setup() {\r\n        // Prepare the light collection.\r\n        this.prepareLights();\r\n    }\r\n\r\n    prepareLights() {\r\n        this.lights = []; \r\n\r\n        // Set max height again since the canvas has been resized. \r\n        LightConfigStore.setMaxHeight(this.p5.height/2);\r\n        \r\n        // Distance between each tube. \r\n        let lightIncrement = (this.p5.width) / NUM_LIGHTS;\r\n\r\n        // Width of each light is half the distance between each light.\r\n        let lightWidth = lightIncrement / 2;\r\n        for (let i = 0; i < NUM_LIGHTS; i++) {\r\n            let xPos = i * lightIncrement; \r\n            // Create a new light instance. \r\n            let l = new Light(this.p5, i, xPos, this.p5.height/2, lightWidth);\r\n            this.lights.push(l);\r\n        }\r\n    }\r\n    \r\n    draw(meshEllipsePos, boundaryWidth) {\r\n        // Only\r\n        let isUserInteracting = EditModeStore.isUserInteracting; \r\n        let isEditMode = EditModeStore.isEditMode; \r\n        if (isUserInteracting) {\r\n            // Update the light configuration based on the user's finger. \r\n            this.updateLightGrowConfig(meshEllipsePos, boundaryWidth);\r\n        }\r\n\r\n        // Draw the lights based on the state. \r\n        for (let i = 0; i < this.lights.length; i++) {\r\n            this.lights[i].draw();\r\n        }\r\n\r\n        if (isUserInteracting || isEditMode) {\r\n            // Draw a center line. \r\n            this.p5.stroke(\"black\")\r\n            this.p5.strokeWeight(6)\r\n            this.p5.line(0, this.p5.height/2, this.p5.width, this.p5.height/2)\r\n        }\r\n    }\r\n\r\n    updateLightGrowConfig(meshEllipsePos, boundaryWidth) {\r\n        for (let i = 0; i < this.lights.length; i++) {\r\n            let light = this.lights[i];\r\n\r\n            // Distance from the ellipse to the light's position. \r\n            let d = meshEllipsePos.dist(light.pos);\r\n\r\n            // Is the ellipse above the half-way line? \r\n            if (meshEllipsePos['y'] < this.p5.height/2) {\r\n                // Handle the top lights. \r\n                // Have we crossed the threshold? \r\n                if (d < boundaryWidth/2) {\r\n                    // This light is activated, grow or shrink. \r\n                    light.updateGrowState(LIGHT_TYPE.TOP);\r\n                }\r\n            } else { // Is the ellipse below the half-way line? \r\n                // Handle the bottom lights. \r\n                if (d < boundaryWidth/2) {\r\n                    // This light is activated, grow or shrink. \r\n                    light.updateGrowState(LIGHT_TYPE.BOTTOM);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n// // Reset this value here. \r\n// this.isCurrentlyGrowing = false;  \r\n// // Cycle the lights from left to right, then right to left. \r\n// // this.handleUserNotInteracting(); \r\n// for (let i = 0; i < this.lights.length; i++) {\r\n//     let light = this.lights[i];\r\n//     let top = light.isGrowing(LIGHT_TYPE.TOP);\r\n//     let bottom = light.isGrowing(LIGHT_TYPE.BOTTOM);\r\n//     this.isCurrentlyGrowing = this.isCurrentlyGrowing || top || bottom; \r\n// }","/*\r\n  Name: MeshManager.js\r\n  Author: Amay Kataria\r\n  Date: 02/19/2022\r\n  Description: A class responsible for drawing the connections from the ellipse to all\r\n  the moving lights on the canvas. \r\n*/\r\n\r\nimport { LIGHT_TYPE } from \"../stores/LightConfigStore\";\r\nimport EditModeStore from \"../stores/EditModeStore\";\r\n\r\n// Handles all the code related to interaction with the canvas.\r\nconst EASING = 0.025;  \r\nexport default class MeshManager {\r\n    constructor(s) {\r\n        this.p5 = s; \r\n        this.ellipsePos = this.p5.createVector(this.p5.width/3, this.p5.height/2);\r\n        this.boundaryWidth = this.p5.height/2;\r\n    }\r\n\r\n    draw(lights) {\r\n        let isEditMode = EditModeStore.isEditMode; \r\n\r\n        if (isEditMode) {    \r\n            if (this.p5.mouseY < this.p5.height) {\r\n                this.ellipsePos['x'] += (this.p5.mouseX - this.ellipsePos['x']) * EASING;\r\n                this.ellipsePos['y'] += (this.p5.mouseY - this.ellipsePos['y']) * EASING; \r\n    \r\n                // Make sure the ellipse doesn't go outside the boundary.\r\n                this.containEllipse();\r\n    \r\n                // Draw pull lines for top and bottom lights.\r\n                for (let i = 0; i < lights.length; i++) {\r\n                    let light = lights[i];\r\n    \r\n                    // Use the local state to draw the lines. \r\n                    if (this.ellipsePos['y'] < this.p5.height/2) {\r\n                        let pos = light.topPos;\r\n                        let height = light.getHeight(LIGHT_TYPE.TOP);\r\n                        if (height < this.p5.height/2 && height > 0) {\r\n                            this.drawLine(pos, this.ellipsePos, i);\r\n                        }\r\n                    } else {\r\n                        let pos = light.bottomPos;\r\n                        let height = light.getHeight(LIGHT_TYPE.BOTTOM);\r\n                        if (height < this.p5.height/2 && height > 0) {\r\n                            this.drawLine(pos, this.ellipsePos, i);\r\n                        }\r\n                    }\r\n                }\r\n    \r\n                // Draw ellipse tracking the mouse. \r\n                this.drawEllipse();\r\n            }\r\n        }        \r\n    }\r\n    \r\n    // Calculate new ellipse position. \r\n    containEllipse() {\r\n        if (this.ellipsePos['x'] > this.p5.width) {\r\n            this.ellipsePos['x'] = this.p5.width;\r\n        } \r\n\r\n        if (this.ellipsePos['x'] < 0) {\r\n            this.ellipsePos['x'] = 0;\r\n        } \r\n\r\n        if (this.ellipsePos['y'] > this.p5.height) {\r\n            this.ellipsePos['y'] = this.p5.height;\r\n        } \r\n\r\n        if (this.ellipsePos['y'] < 0) {\r\n            this.ellipsePos['y'] = 0;\r\n        } \r\n    }\r\n\r\n    drawEllipse() {\r\n        // // Outer ellipse boundary \r\n        // this.p5.fill(this.p5.color(255, 255, 255, 50));\r\n        // this.p5.noStroke();\r\n        // this.p5.ellipse(this.ellipsePos['x'], this.ellipsePos['y'], this.boundaryWidth);  \r\n\r\n        // Inner ellipse\r\n        this.p5.fill(this.p5.color(255, 255, 255, 150));\r\n        this.p5.strokeWeight(3);\r\n        this.p5.stroke(this.p5.color('black'));\r\n        this.p5.ellipse(this.ellipsePos['x'], this.ellipsePos['y'], 60);  \r\n    }\r\n\r\n    drawLine(startPoint, endPoint, i) {\r\n        let opacity = this.p5.map(i, 0, 24, 100, 200);\r\n        let weight = this.p5.map(i, 0, 25, 2, 4);\r\n        this.p5.stroke(this.p5.color(255, 255, 255, opacity));\r\n        this.p5.strokeWeight(weight);\r\n        this.p5.line(startPoint['x'], startPoint['y'], endPoint['x'], endPoint['y']);\r\n    }\r\n}","/*\r\n  Name: bpmManager.js\r\n  Author: Amay Kataria\r\n  Date: 02/20/2022\r\n  Description: A class responsible for handling the logic to calculate the bpm for the current configuration.\r\n*/\r\n\r\nimport LightConfigStore, { LIGHT_TYPE } from \"../stores/LightConfigStore\";\r\nimport EditModeStore from \"../stores/EditModeStore\";\r\n\r\nconst MAX_BPM = 250;\r\nconst MIN_BPM = 100;\r\nexport default class bpmManager {\r\n    constructor(s) {\r\n        this.p5 = s;\r\n        this.curBpm = LightConfigStore.bpm;\r\n        this.curTime = ''; \r\n    }\r\n\r\n    // Simple BPM calculator.\r\n    update(ellipsePos, lights) {\r\n        let isEditMode = EditModeStore.isEditMode; \r\n        let isUserInteracting = EditModeStore.isUserInteracting;\r\n        // The user must be in Edit Mode and be interacting for the\r\n        // local bpm to be changing. \r\n        if (isUserInteracting && isEditMode) { \r\n            let shouldAdd = false; \r\n            if (((ellipsePos['x'] > this.p5.width/2) && (ellipsePos['y'] < this.p5.height/2))\r\n                || ((ellipsePos['x'] < this.p5.width/2) && (ellipsePos['y'] > this.p5.height/2))){\r\n                shouldAdd = true; \r\n            } else {\r\n                shouldAdd = false; \r\n            }\r\n            \r\n            // Number of lights that are on. \r\n            let sum = 0; \r\n            for (let i = 0; i < lights.length; i++) {\r\n                let light = lights[i];\r\n                if (light.isOn(LIGHT_TYPE.TOP)) {\r\n                    sum += 1; \r\n                }\r\n                if (light.isOn(LIGHT_TYPE.BOTTOM)) {\r\n                    sum += 1; \r\n                }\r\n            }\r\n\r\n            // Time that has elapsed. \r\n            let elapsedTime = Date.now() - this.curTime; \r\n            let v = this.p5.sin(elapsedTime /(sum)); \r\n            let mapped =  this.p5.map(v, -1, 1, 0, 0.25);\r\n            \r\n            // Calculate the new bpm. \r\n            this.curBpm = shouldAdd ? (this.curBpm + mapped) : (this.curBpm - mapped); \r\n            \r\n            if (this.curBpm < MIN_BPM) {\r\n                this.curBpm = MIN_BPM; \r\n            } \r\n\r\n            if (this.curBpm > MAX_BPM) {\r\n                this.curBpm = MAX_BPM;\r\n            }\r\n\r\n            // Send updates to component subscribed for the event. \r\n            LightConfigStore.setLocalBpm(Math.floor(this.curBpm));\r\n        } else {\r\n            // Keep snapshotting the time, so we can calculate\r\n            // the elapsed time. \r\n            this.curTime = Date.now(); \r\n        }\r\n    }\r\n}","/*\r\n  Name: WaveCanvas.js\r\n  Author: Amay Kataria\r\n  Date: 02/19/2022\r\n  Description: Class responsible to paint the interactive P5.js canvas.\r\n*/\r\n\r\nimport React from 'react'\r\nimport Radium from 'radium'\r\nimport {color} from './CommonStyles'\r\nimport p5 from 'p5'\r\nimport { ORIENTATION } from './App'\r\nimport EditModeStore from '../stores/EditModeStore'\r\nimport LightManager from './LightManager'\r\nimport MeshManager from './MeshManager'\r\nimport BpmManager from './BpmManager'\r\n\r\nvar sketch = (s) => {\r\n  let lightManager, meshManager, bpmManager;\r\n  s.setup = () => {\r\n    let canvasContainer = s.select('#canvasContainer');\r\n    let height = canvasContainer.height;\r\n    s.createCanvas(window.innerWidth, height);\r\n\r\n    lightManager = new LightManager(s);\r\n    meshManager = new MeshManager(s);\r\n    bpmManager = new BpmManager(s); \r\n\r\n    lightManager.setup();\r\n  };\r\n\r\n  s.draw = () => {\r\n    s.background(s.color(0, 0, 0));  \r\n    lightManager.draw(meshManager.ellipsePos, meshManager.boundaryWidth);\r\n    meshManager.draw(lightManager.lights); \r\n    bpmManager.update(meshManager.ellipsePos, lightManager.lights);\r\n  };\r\n\r\n  s.mousePressed = () => {\r\n    if (s.mouseY > s.height || s.mouseY < 0) {\r\n      // Ignore. \r\n    } else {\r\n      EditModeStore.setUserInteracting(true); \r\n      EditModeStore.setEditMode(true);\r\n    }\r\n  };\r\n\r\n  s.mouseReleased = () => {\r\n    EditModeStore.setUserInteracting(false); \r\n  }\r\n\r\n  s.windowResized = () => {\r\n    setTimeout(() => {\r\n      console.log('Canvas Resized.');\r\n      let canvasContainer = s.select('#canvasContainer');\r\n      let height = canvasContainer.height;\r\n      s.resizeCanvas(window.innerWidth, height); \r\n  \r\n      // Prepare the lights again. \r\n      lightManager.prepareLights();\r\n    }, 500);\r\n  }\r\n};\r\n\r\nconst styles = {\r\n  container: {\r\n    position: 'relative',\r\n    backgroundColor: color.bgBlack,\r\n    margin: 0,\r\n    padding: 0,\r\n    zIndex: 1\r\n  }\r\n};\r\n\r\nclass WaveCanvas extends React.Component {\r\n  constructor(props) {\r\n    super(props);   \r\n    this.containerRef = React.createRef();\r\n    this.sketchRef = React.createRef(); \r\n  }\r\n\r\n  componentDidMount() {\r\n    console.log('Wave canvas mounted');    \r\n    this.myP5 = new p5(sketch, this.sketchRef.current); \r\n  }\r\n  \r\n  render() {     \r\n    let heightStyle = this.getHeightStyle();\r\n    let containerStyle = [styles.container, heightStyle];\r\n    return (\r\n      <div id={'canvasContainer'} \r\n        ref={this.sketchRef} \r\n        style={containerStyle}>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  getHeightStyle() {\r\n    let height = this.getHeight();\r\n    let heightStyle = {\r\n      height: height + 'px'\r\n    };\r\n    return heightStyle; \r\n  }\r\n\r\n  getHeight() {\r\n    let deviceHeight = window.innerHeight;\r\n    let deviceWidth = window.innerWidth; \r\n    let c = 0; \r\n    if (this.props.orientation === ORIENTATION.PORTRAIT) {\r\n      if (deviceHeight < 900) {\r\n        c = 0.8;\r\n      }\r\n\r\n      if (deviceHeight > 900 && deviceHeight < 1000) {\r\n        c = 0.85;\r\n      }\r\n\r\n      if (deviceHeight > 1000) {\r\n        c = 0.88; \r\n      }\r\n    }\r\n\r\n    if (this.props.orientation === ORIENTATION.LANDSCAPE) {\r\n      if (deviceWidth < 1000) {\r\n        c = 0.70;  \r\n      } \r\n\r\n      if (deviceWidth > 1000) {\r\n        c = 0.82;\r\n      }\r\n    }\r\n\r\n    return deviceHeight * c;\r\n  }\r\n}\r\n\r\nexport default Radium(WaveCanvas);","/*\r\n  Name: Websocket.js\r\n  Author: Amay Kataria\r\n  Date: 02/15/2022\r\n  Description: Class responsible for communication with the webserver. We use websockets\r\n  technology for this. Here we have the websocket client, which communicates with backend\r\n  server over websockets.\r\n*/\r\n\r\nimport io  from 'socket.io-client'\r\nimport LightConfigStore from '../stores/LightConfigStore';\r\n\r\n//const localhostURL = \"http://localhost:5000\";\r\nconst herokuURL = \"https://supersynth.herokuapp.com\";\r\n\r\nclass Websocket {\r\n  constructor() {\r\n      this.siteURL = herokuURL + '/app'; \r\n\r\n      this.socket = io(this.siteURL, {\r\n          reconnection: true,\r\n          reconnectionDelay: 500,\r\n          reconnectionAttempts: Infinity\r\n      });\r\n\r\n      this.socket.once('connect', this.subscribe.bind(this));\r\n  }\r\n\r\n  subscribe() {\r\n      console.log('Connected');\r\n      // Subscribe to incoming events from the webserver here. \r\n      this.socket.on('time', this.logTime.bind(this));\r\n      // Show up when user starts interacting.\r\n      this.socket.on('fullPayload', (payload) => {\r\n        LightConfigStore.setPayloadFromDatabase(payload); \r\n      }); \r\n      // Shows the data when user is not interacting\r\n      this.socket.on('lightData', data => {\r\n        LightConfigStore.setLightTimerData(data);\r\n      });\r\n  }\r\n\r\n  // -------------------- DON'T CHANGE THESE -------------------    \r\n  disconnect() {\r\n      console.log('Socket Server Disconnected.');\r\n  }\r\n\r\n  logTime(data) {\r\n    // console.log('Socket Connection Alive: ' + data);\r\n  }\r\n\r\n  commitLightConfigData() {\r\n    let payload = LightConfigStore.getPayloadForDatabase();\r\n    this.socket.emit('saveData', payload);\r\n  }\r\n}\r\n\r\nexport default new Websocket();\r\n\r\n\r\n","/*\r\n  Name: BottomBar.js\r\n  Author: Amay Kataria\r\n  Date: 02/19/2022\r\n  Description: React component for the bottom bar on the page. This has the send button. \r\n*/\r\nimport React from 'react'\r\nimport Radium from 'radium'\r\nimport { ORIENTATION } from './App';\r\nimport {color, fontFamily, fontSize, padding} from './CommonStyles'\r\nimport Websocket from './Websocket';\r\nimport LightConfigStore from '../stores/LightConfigStore';\r\nimport EditModeStore from '../stores/EditModeStore';\r\n\r\nconst styles = {\r\n    container: {\r\n        position: 'relative',\r\n        display: 'flex',\r\n        flexDirection: 'row',\r\n        justifyContent: 'space-between',\r\n        alignItems: 'center',\r\n        paddingLeft: padding.small,\r\n        paddingRight: padding.small,\r\n        // // // Common Styles\r\n        color: color.fbWhite,\r\n        fontFamily: fontFamily.josefin,\r\n        fontSize: fontSize.lessBig,\r\n        letterSpacing: '2px',\r\n        zIndex: 1,\r\n    },\r\n\r\n    info: {\r\n        backgroundColor: color.bgBlack,\r\n        padding: padding.verySmall,\r\n        cursor: 'default'\r\n    },\r\n\r\n    button: {\r\n      cursor: 'pointer'\r\n    }\r\n};\r\n\r\nclass BottomBar extends React.Component {\r\n  constructor(props) {\r\n    super(props); \r\n    this.state={\r\n      curBpm: '',\r\n      originalBpm: '',\r\n      originalIndex: '',\r\n      isEditMode: false\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    LightConfigStore.subscribeInfo(this.onInfoUpdate.bind(this));\r\n    LightConfigStore.subscribeBpmUpdates(this.onBpmUpdated.bind(this));\r\n    EditModeStore.subscribe(this.onEditModeUpdates.bind(this));\r\n  }\r\n \r\n  render() {\r\n    let bpm = this.state.isEditMode ? this.state.curBpm : this.state.originalBpm;\r\n    let indices = this.state.isEditMode ? this.state.originalIndex + 1 : this.state.originalIndex; \r\n    let heightStyle = this.getHeightStyle();\r\n    let elements = this.state.isEditMode ? \r\n      this.getEditModeElements(heightStyle, bpm) : \r\n      this.getElements(heightStyle, indices, bpm);\r\n    return elements; \r\n  }\r\n\r\n  getEditModeElements(heightStyle, bpm) {\r\n    return (\r\n      <div style={[styles.container, heightStyle]}>\r\n          <div onClick={this.onBack.bind(this)} style={[styles.info, styles.button]}>Back</div>\r\n          <div style={styles.info}>{bpm + 'bpm'}</div>\r\n          <div onClick={this.onSend.bind(this)} style={[styles.info, styles.button]}>Send</div>\r\n      </div>   \r\n    );\r\n  }\r\n\r\n  getElements(heightStyle, indices, bpm) {\r\n    return (\r\n      <div style={[styles.container, heightStyle]}>\r\n        <div style={styles.info}>{'#' + indices}</div>\r\n        <div style={styles.info}>{bpm + 'bpm'}</div>\r\n        <div onClick={this.onEdit.bind(this)} style={[styles.info, styles.button]}>Edit</div>\r\n      </div>  \r\n    );\r\n  }\r\n\r\n  onEditModeUpdates() {\r\n    let isEditMode = EditModeStore.isEditMode; \r\n    // Don't re-render if we are already in the state. \r\n    if (this.state.isEditMode !== isEditMode) {\r\n      this.setState({\r\n        isEditMode: isEditMode\r\n      });\r\n    }\r\n  }\r\n\r\n  getHeightStyle() {\r\n    let height = this.getHeight();\r\n    let heightStyle = {\r\n      height: height + 'px'\r\n    };\r\n    return heightStyle; \r\n  }\r\n\r\n  getHeight() {\r\n    let deviceHeight = window.innerHeight;\r\n    let deviceWidth = window.innerWidth;\r\n    let c = 0; \r\n    if (this.props.orientation === ORIENTATION.PORTRAIT) {\r\n      if (deviceHeight < 900) {\r\n        c = 0.1\r\n      }\r\n\r\n      if (deviceHeight > 900 && deviceHeight < 1000) {\r\n        c = 0.075\r\n      }\r\n\r\n      if (deviceHeight > 1000) {\r\n        c = 0.06\r\n      }\r\n    }\r\n\r\n    if (this.props.orientation === ORIENTATION.LANDSCAPE) {\r\n      if (deviceWidth < 1000) {\r\n        c = 0.15; \r\n      }\r\n\r\n      if (deviceWidth > 1000) {\r\n        c = 0.09; \r\n      }\r\n    }\r\n\r\n    return deviceHeight * c; \r\n  }\r\n\r\n  onBpmUpdated() {\r\n    let newBpm = LightConfigStore.localBpm\r\n    if (newBpm !== this.state.curBpm) {\r\n      this.setState({\r\n        curBpm: newBpm\r\n      });\r\n    }\r\n  }\r\n\r\n  onInfoUpdate() {\r\n    console.log('Info updated')\r\n    // Config will always store the source of truth value. \r\n    // The one at the database. When new data is received, \r\n    // reset current and original bpm.\r\n    let idx = LightConfigStore.getConfigIndex();\r\n    let oBpm = LightConfigStore.getBpm();\r\n    this.setState({\r\n      originalBpm: oBpm,\r\n      originalIndex: idx\r\n    });\r\n\r\n    // Don't do double updates. This saved on Sending the date.\r\n    if (oBpm !== this.state.curBpm) {\r\n      console.log(oBpm); console.log(this.state.curBpm);\r\n      this.setState({\r\n        curBpm: oBpm\r\n      });\r\n    }\r\n\r\n    console.log(this.state);\r\n  }\r\n\r\n  onSend(event) {\r\n    event.stopPropagation();\r\n    // Just before committing this. \r\n    Websocket.commitLightConfigData();\r\n  }\r\n\r\n  onBack(event) {\r\n    event.stopPropagation();\r\n    EditModeStore.setEditMode(false);\r\n    EditModeStore.setUserInteracting(false);\r\n    this.setState({\r\n      isEditMode: false\r\n    });\r\n  }\r\n\r\n  onEdit(event) {\r\n    event.stopPropagation();\r\n    EditModeStore.setEditMode(true);\r\n    this.setState({\r\n      isEditMode: true\r\n    });\r\n  }\r\n}\r\n\r\nexport default Radium(BottomBar);","/*\n  Name: App.js\n  Author: Amay Kataria\n  Date: 02/19/2022\n  Description: Entry point component for the application. \n*/\n\nimport React from 'react'\nimport Radium from 'radium'\n\nimport Navbar from './Navbar';\nimport WaveCanvas from './WaveCanvas';\nimport BottomBar from './BottomBar';\n\n// Enum to track the device orientation. \nexport const ORIENTATION = {\n  PORTRAIT: 0,\n  LANDSCAPE: 1\n}\n\nconst styles = {\n  container: {\n    position: 'absolute',\n    top: '0px',\n    left: '0px',\n    right: '0px',\n    bottom: '0px',\n    overflow: 'hidden',\n    display: 'flex',\n    flexDirection: 'column',\n    color: 'white',\n    height: '100%',\n    width: '100%',\n    zIndex: '1'\n  },\n\n  button: {\n    width: '100px',\n    height: '50px',\n    backgroundColor: 'white',\n    color: 'black'\n  }\n};\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props); \n    window.addEventListener('resize', this.handleResize.bind(this));\n    this.state = {\n      orientation: ORIENTATION.PORTRAIT\n    };     \n  }\n\n  componentDidMount() {\n    this.evaluateOrientation();\n  }\n\n  render() {\n    return (\n      <div style={styles.container}>\n        <Navbar orientation={this.state.orientation} />\n        <WaveCanvas orientation={this.state.orientation} />\n        <BottomBar orientation={this.state.orientation} />\n      </div>\n    );\n  }\n\n  handleResize() {\n    // Resize triggered - evaluate orientation and render\n    // the components again be it. \n    this.evaluateOrientation();\n  }\n\n  evaluateOrientation() {\n    let t = (window.innerHeight < window.innerWidth); \n    if (t) {\n      setTimeout(() => {\n        console.log('App: Landscape');\n        this.setState({\n          orientation: ORIENTATION.LANDSCAPE\n        }); \n      }, 500);\n    } else {\n      setTimeout(() => {\n        console.log('App: Portrait');\n        this.setState({\n          orientation: ORIENTATION.PORTRAIT\n        });\n      }, 500);\n    }\n  }\n}\n\nexport default Radium(App);","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport './font/stylesheet.css';\nimport App from './components/App';\nimport {StyleRoot} from 'radium'\n\n// Use StyleRoot to enable keyframes and media queries for Javascript type\n// styles with Radium in components. \n// Single render function for the entire application. \nReactDOM.render(<StyleRoot><App /></StyleRoot>, document.getElementById('root'));"],"sourceRoot":""}